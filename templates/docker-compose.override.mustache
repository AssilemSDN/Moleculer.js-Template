# --------------------------------------------
# This file was automatically generated by a script.
# --------------------------------------------
services:
{{#services}}
  my-moleculer-{{name}}:
    image: ${DOCKER_IMAGE_NAME_APP}:${DOCKER_IMAGE_TAG_APP}
    container_name: ${DOCKER_CONTAINER_BASENAME_APP}-{{name}}
    command:
      - node_modules/.bin/moleculer-runner
      - --config
      - ./src/config/moleculer.config.js
      - -E
      - ${DOCKER_ENV_FILE_APP}
      - ./src/services/{{name}}
    env_file:
      - ${DOCKER_ENV_FILE_APP}
    depends_on:
      - nats
    networks:
      - backend
    restart: unless-stopped
{{/services}}